<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Sign Up</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="Signup.css">
  <script>
    function hideToggleButtons() {
    document.querySelector(".btn-group2").style.display = "none";
}

document.querySelector(".toggle-btn").addEventListener("click", hideToggleButtons);

// Inside your `signup` function, add this logic after setting the section to owner or tenant
function signup(section) {
    // Hide toggle buttons when a section is selected
    hideToggleButtons();
    var username, email, password, confirmPassword;
    
    // Get the appropriate values based on the section (Owner or Tenant)
    if (section === 'owner') {
        username = document.getElementById("owner-username").value;
        email = document.getElementById("owner-email").value;
        password = document.getElementById("owner-password").value;
        confirmPassword = document.getElementById("owner-confirmPassword").value;
    } else if (section === 'tenant') {
        username = document.getElementById("tenant-username").value;
        email = document.getElementById("tenant-email").value;
        password = document.getElementById("tenant-password").value;
        confirmPassword = document.getElementById("tenant-confirmPassword").value;
    }

    var popup = document.getElementById("popup");

    // Remove "invalid" class from inputs and hide popup initially
    document.querySelectorAll("input").forEach(input => input.classList.remove("invalid"));
    popup.classList.add("hidden");

    // Check for valid email
    if (!email.includes("@")) {
        document.getElementById(section + "-email").classList.add("invalid");
        popup.innerText = "Invalid email.";
        popup.classList.remove("hidden");
        setTimeout(() => popup.classList.add("hidden"), 2000); // Hide the popup after 2 seconds
        document.getElementById(section + "-email").focus();
        return;
    }

    // Check for password match
    if (password !== confirmPassword) {
        document.getElementById(section + "-confirmPassword").classList.add("invalid");
        popup.innerText = "Passwords do not match.";
        popup.classList.remove("hidden");
        setTimeout(() => popup.classList.add("hidden"), 2000); // Hide the popup after 2 seconds
        document.getElementById(section + "-confirmPassword").focus();
        return;
    }

    // If all checks pass, show success message
    popup.innerText = "Signup successful!";
    popup.classList.remove("hidden");
    setTimeout(() => popup.classList.add("hidden"), 2000); // Hide the popup after 2 seconds
}

document.addEventListener("DOMContentLoaded", function() {
    // Event listeners for Enter key navigation for Owner
    var usernameFieldOwner = document.getElementById("owner-username");
    var emailFieldOwner = document.getElementById("owner-email");
    var passwordFieldOwner = document.getElementById("owner-password");
    var confirmPasswordFieldOwner = document.getElementById("owner-confirmPassword");

    // Event listeners for Enter key navigation for Tenant
    var usernameFieldTenant = document.getElementById("tenant-username");
    var emailFieldTenant = document.getElementById("tenant-email");
    var passwordFieldTenant = document.getElementById("tenant-password");
    var confirmPasswordFieldTenant = document.getElementById("tenant-confirmPassword");

    // Event listeners for Owner Section
    usernameFieldOwner.addEventListener("keydown", function(event) {
        if (event.key === "Enter") {
            event.preventDefault();
            emailFieldOwner.focus();
        }
    });

    emailFieldOwner.addEventListener("keydown", function(event) {
        if (event.key === "Enter") {
            event.preventDefault();
            passwordFieldOwner.focus();
        }
    });

    passwordFieldOwner.addEventListener("keydown", function(event) {
        if (event.key === "Enter") {
            event.preventDefault();
            confirmPasswordFieldOwner.focus();
        }
    });

    confirmPasswordFieldOwner.addEventListener("keypress", function(event) {
        if (event.key === "Enter") {
            event.preventDefault();  // Prevent form submission
            signup('owner');  // Trigger the signup function for owner
        }
    });

    // Event listeners for Tenant Section
    usernameFieldTenant.addEventListener("keydown", function(event) {
        if (event.key === "Enter") {
            event.preventDefault();
            emailFieldTenant.focus();
        }
    });

    emailFieldTenant.addEventListener("keydown", function(event) {
        if (event.key === "Enter") {
            event.preventDefault();
            passwordFieldTenant.focus();
        }
    });

    passwordFieldTenant.addEventListener("keydown", function(event) {
        if (event.key === "Enter") {
            event.preventDefault();
            confirmPasswordFieldTenant.focus();
        }
    });

    confirmPasswordFieldTenant.addEventListener("keypress", function(event) {
        if (event.key === "Enter") {
            event.preventDefault();  // Prevent form submission
            signup('tenant');  // Trigger the signup function for tenant
        }
    });
});

document.addEventListener("DOMContentLoaded", function() {
    // Owner section input fields
    var emailFieldOwner = document.getElementById("owner-email");
    var confirmPasswordFieldOwner = document.getElementById("owner-confirmPassword");

    // Tenant section input fields
    var emailFieldTenant = document.getElementById("tenant-email");
    var confirmPasswordFieldTenant = document.getElementById("tenant-confirmPassword");

    // Event listener to remove the "invalid" class when typing in email (Owner)
    emailFieldOwner.addEventListener("input", function() {
        this.classList.remove("invalid");
        document.getElementById("popup").classList.add("hidden");
    });

    // Event listener to remove the "invalid" class when typing in confirmPassword (Owner)
    confirmPasswordFieldOwner.addEventListener("input", function() {
        this.classList.remove("invalid");
        document.getElementById("popup").classList.add("hidden");
    });

    // Event listener to remove the "invalid" class when typing in email (Tenant)
    emailFieldTenant.addEventListener("input", function() {
        this.classList.remove("invalid");
        document.getElementById("popup").classList.add("hidden");
    });

    // Event listener to remove the "invalid" class when typing in confirmPassword (Tenant)
    confirmPasswordFieldTenant.addEventListener("input", function() {
        this.classList.remove("invalid");
        document.getElementById("popup").classList.add("hidden");
    });
});

function hideToggleButtons() {
    document.querySelector(".btn-group2").style.display = "none";
    document.querySelector("#owner-section").style.display = "block"; // Show Owner section when toggling
    document.querySelector("#tenant-section").style.display = "none"; // Hide Tenant section when toggling
}

function showToggleButtons() {
    document.querySelector(".btn-group2").style.display = "flex"; // Show the toggle buttons
    document.querySelector("#owner-section").style.display = "none"; // Hide Owner section
    document.querySelector("#tenant-section").style.display = "none"; // Hide Tenant section
}

  </script>
</head>
<body>
    <div id="popup" class="popup hidden">Invalid credentials. Please try again.</div>
    <div class="container">
        <div class="content-wrap">
            <div class="row col-md-12 wrapper">
                <div class="col-md-6">
                    <div class="imagewrap">
                        <div class="image-container">
                            <img src="LOGOwWords.svg" class="Logo" alt="AOS Logo">
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="signup-wrap">
                        <!-- Toggle buttons for Owner and Tenant -->
                        <div class="btn-group2">
                            <a href="#owner-section" class="toggle-btn" onclick="hideToggleButtons()">Owner</a>
                            <a href="#tenant-section" class="toggle-btn" onclick="hideToggleButtons()">Tenant</a>
                        </div>
                    
                        <!-- Owner Sign-Up Form -->
<div id="owner-section" class="content owner-signup" style="display: none;">
    <h2>Owner Sign Up</h2>
    <label for="owner-username">Username</label>
    <input type="text" id="owner-username" placeholder="Enter username" required>

    <label for="owner-email">Email</label>
    <input type="text" id="owner-email" placeholder="Enter email" required>

    <label for="owner-password">Password</label>
    <input type="password" id="owner-password" placeholder="Enter password" required>

    <label for="owner-confirmPassword">Confirm Password</label>
    <input type="password" id="owner-confirmPassword" placeholder="Confirm password" required>

    <button type="submit" onclick="signup('owner')" class="signup-btn">Sign Up</button>
    <!-- Back Button for Owner Section -->
    <div class="btn-group3">
        <button type="button" onclick="showToggleButtons()" class="back-btn">Back</button>
     </div>
</div>

<!-- Tenant Sign-Up Form -->
<div id="tenant-section" class="content tenant-signup" style="display: none;">
    <h2>Tenant Sign Up</h2>
    <label for="tenant-username">Username</label>
    <input type="text" id="tenant-username" placeholder="Enter username" required>

    <label for="tenant-email">Email</label>
    <input type="text" id="tenant-email" placeholder="Enter email" required>

    <label for="tenant-password">Password</label>
    <input type="password" id="tenant-password" placeholder="Enter password" required>

    <label for="tenant-confirmPassword">Confirm Password</label>
    <input type="password" id="tenant-confirmPassword" placeholder="Confirm password" required>

    <button type="submit" onclick="signup('tenant')" class="signup-btn">Sign Up</button>
    <!-- Back Button for Tenant Section -->
     <div class="btn-group3">
        <button type="button" onclick="showToggleButtons()" class="back-btn">Back</button>
     </div>
</div>
                    
                        <p class="links">
                            Already Have an Account? <a href="login.html">Login</a>
                            <br>
                            <a href="index.html">HomePage</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
